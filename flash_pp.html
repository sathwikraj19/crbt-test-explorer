<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flash Service – Project Plan (Interactive Gantt)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #0f172a;
      --surface: #ffffff;
      --border: #e2e8f0;
      --border-soft: #edf2ff;
      --text-main: #0f172a;
      --text-muted: #6b7280;
      --accent-1: #6366f1;
      --accent-2: #0ea5e9;
      --accent-3: #22c55e;
      --accent-4: #0f172a;
      --accent-warning: #facc15;
      --accent-danger: #f97373;
      --chip-bg: #eef2ff;
      --radius-lg: 16px;
      --radius-md: 10px;
      --radius-sm: 6px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.13);
      --grid-line: #e5e7eb;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      min-height: 100vh;
      background: radial-gradient(circle at top left, #4f46e5, #0f172a 55%);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .page {
      max-width: 1220px;
      width: 100%;
      background: radial-gradient(circle at top left, #eef2ff, #ffffff 55%);
      border-radius: 22px;
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* TOP BAR */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 18px 8px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
      background: linear-gradient(90deg, #4f46e5, #0ea5e9);
      color: #e5e7eb;
    }

    .topbar-title {
      font-size: 14px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-weight: 500;
    }

    .topbar-right {
      font-size: 11px;
      opacity: 0.9;
    }

    /* MAIN LAYOUT */
    .main-layout {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(270px, 0.9fr);
      gap: 0;
      padding: 14px 16px 16px;
    }

    .left,
    .right {
      padding: 10px;
    }

    @media (max-width: 900px) {
      .main-layout {
        grid-template-columns: minmax(0, 1fr);
      }
      .right {
        padding-top: 0;
      }
    }

    /* HEADING & FILTERS */
    .header-block {
      margin-bottom: 10px;
    }

    .title-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 8px;
      align-items: baseline;
    }

    .title-row h1 {
      font-size: 19px;
      font-weight: 700;
    }

    .title-row span {
      font-size: 11px;
      color: var(--text-muted);
    }

    .filters {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: 8px;
      font-size: 11px;
    }

    .chip {
      border-radius: 999px;
      padding: 4px 10px;
      background: var(--chip-bg);
      border: 1px solid rgba(99, 102, 241, 0.4);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      user-select: none;
      transition: background 0.15s ease, transform 0.12s ease;
    }

    .chip-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
    }

    .chip:hover {
      transform: translateY(-1px);
      background: #e0e7ff;
    }

    .chip--active {
      background: #4f46e5;
      color: #e5e7eb;
      border-color: transparent;
    }

    .chip--active .chip-dot {
      background: #e5e7eb !important;
    }

    /* GANTT LAYOUT */
    .gantt-shell {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: var(--surface);
      display: grid;
      grid-template-columns: 180px minmax(0, 1fr);
      overflow: hidden;
    }

    @media (max-width: 640px) {
      .gantt-shell {
        grid-template-columns: minmax(0, 1fr);
      }
      .gantt-phases {
        border-right: none;
        border-bottom: 1px solid var(--border);
      }
    }

    .gantt-phases {
      background: #f8fafc;
      border-right: 1px solid var(--border);
    }

    .gantt-header,
    .timeline-header {
      padding: 8px 10px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      background: rgba(248, 250, 252, 0.95);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .phases-list {
      list-style: none;
    }

    .phase-row {
      padding: 12px 10px;
      border-bottom: 1px dashed rgba(148, 163, 184, 0.35);
      min-height: 60px;
    }

    .phase-title {
      font-size: 13px;
      font-weight: 600;
    }

    .phase-sub {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 3px;
      line-height: 1.3;
    }

    .timeline-wrapper {
      position: relative;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      background: #ffffff;
    }

    .timeline-inner {
      min-width: 700px;
      position: relative;
    }

    .timeline-header-row {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(40px, 1fr);
      text-align: center;
      font-size: 11px;
      color: var(--text-muted);
      padding: 8px 0;
    }

    .timeline-day {
      border-left: 1px solid #f1f5f9;
    }

    .timeline-grid {
      position: relative;
    }

    .timeline-grid-row {
      height: 60px;
      border-top: 1px solid var(--grid-line);
      position: relative;
    }

    .today-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--accent-danger);
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.45);
      pointer-events: none;
    }

    .today-label {
      position: absolute;
      top: 2px;
      transform: translateX(-50%);
      padding: 2px 6px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      white-space: nowrap;
    }

    /* TASK BARS */
    .task-bar {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      height: 22px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 0 9px;
      font-size: 11px;
      color: #f9fafb;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.25);
      transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.12s ease;
    }

    .task-bar[data-status="done"] {
      opacity: 0.92;
    }

    .task-bar[data-status="upcoming"] {
      opacity: 0.9;
      border: 1px solid rgba(255, 255, 255, 0.7);
    }

    .task-bar:hover {
      transform: translateY(-55%) scale(1.02);
      box-shadow: 0 16px 32px rgba(15, 23, 42, 0.35);
    }

    .task-pill {
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.2);
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .task-avatar {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.92);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-main);
      flex-shrink: 0;
    }

    .task-title {
      font-weight: 600;
    }

    /* TOOLTIP */
    .tooltip {
      position: fixed;
      pointer-events: none;
      background: #020617;
      color: #e5e7eb;
      font-size: 11px;
      padding: 8px 10px;
      border-radius: 8px;
      box-shadow: 0 18px 30px rgba(15, 23, 42, 0.85);
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.12s ease, transform 0.12s ease;
      z-index: 50;
      max-width: 260px;
      line-height: 1.4;
    }

    .tooltip.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .tooltip-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #f9fafb;
    }

    .tooltip-line {
      display: flex;
      justify-content: space-between;
      gap: 12px;
    }

    /* RIGHT PANEL */
    .panel {
      background: rgba(255, 255, 255, 0.94);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      padding: 10px 11px;
      margin-bottom: 10px;
    }

    .panel-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .avatars {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .avatar {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #f9fafb;
      font-weight: 600;
      font-size: 11px;
      background: linear-gradient(135deg, #4f46e5, #ec4899);
      box-shadow: 0 6px 15px rgba(148, 163, 184, 0.7);
    }

    .avatar:nth-child(2) {
      background: linear-gradient(135deg, #0ea5e9, #22c55e);
    }
    .avatar:nth-child(3) {
      background: linear-gradient(135deg, #f97316, #ef4444);
    }
    .avatar:nth-child(4) {
      background: linear-gradient(135deg, #a855f7, #6366f1);
    }

    .legend {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 6px;
      margin-top: 4px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .legend-color {
      width: 10px;
      height: 10px;
      border-radius: 999px;
    }

    .task-details {
      font-size: 12px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .task-details strong {
      color: var(--text-main);
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .info-pill {
      font-size: 10px;
      padding: 4px 7px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.9);
      background: #f9fafb;
    }

    .note-list {
      font-size: 11px;
      color: var(--text-muted);
      padding-left: 16px;
    }

    .note-list li {
      margin-bottom: 3px;
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- TOP BAR -->
    <div class="topbar">
      <div class="topbar-title">Flash Service Project Plan</div>
      <div class="topbar-right">Environment: UAT &nbsp;|&nbsp; Owner: Implementation</div>
    </div>

    <div class="main-layout">
      <!-- LEFT: GANTT -->
      <section class="left">
        <div class="header-block">
          <div class="title-row">
            <h1>Implementation Gantt – Flash Service</h1>
            <span>Tap / click a bar to view task details on the right.</span>
          </div>

          <div class="filters">
            <span style="align-self:center;">Status:</span>
            <button class="chip chip--active" data-filter="all">
              All
            </button>
            <button class="chip" data-filter="done">
              <span class="chip-dot" style="background:#22c55e;"></span> Done
            </button>
            <button class="chip" data-filter="on-going">
              <span class="chip-dot" style="background:#0ea5e9;"></span> On-Going
            </button>
            <button class="chip" data-filter="upcoming">
              <span class="chip-dot" style="background:#facc15;"></span> Upcoming
            </button>
          </div>
        </div>

        <div class="gantt-shell">
          <!-- PHASES -->
          <aside class="gantt-phases">
            <div class="gantt-header">Phases</div>
            <ul class="phases-list" id="phaseList"></ul>
          </aside>

          <!-- TIMELINE -->
          <section class="timeline-wrapper">
            <div class="timeline-inner">
              <div class="timeline-header">
                <div class="timeline-header-row" id="timelineHeaderRow"></div>
              </div>
              <div class="timeline-grid" id="timelineGrid"></div>

              <div id="todayLine" class="today-line" style="display:none;">
                <div class="today-label">Today</div>
              </div>
            </div>
          </section>
        </div>
      </section>

      <!-- RIGHT: PANELS -->
      <aside class="right">
        <div class="panel">
          <div class="panel-title">
            Project Team
            <span style="font-size:10px; color:var(--text-muted);">Sample names – edit in HTML</span>
          </div>
          <div class="avatars">
            <div class="avatar">SR</div>
            <div class="avatar">RK</div>
            <div class="avatar">AB</div>
            <div class="avatar">PM</div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">Legend</div>
          <div class="legend">
            <div class="legend-item">
              <span class="legend-color" style="background:var(--accent-1);"></span>
              <span>Requirement & Design</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background:var(--accent-2);"></span>
              <span>Development & Config</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background:var(--accent-3);"></span>
              <span>Testing & UAT</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background:var(--accent-4);"></span>
              <span>Go-Live & Monitoring</span>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">
            Selected Task
            <span id="selectedStatusLabel" style="font-size:10px;"></span>
          </div>
          <div class="task-details" id="taskDetails">
            <p>Select a task from the Gantt to view description, dates and owner here.</p>
          </div>
        </div>

        <div class="panel">
          <div class="panel-title">Notes</div>
          <ul class="note-list">
            <li>All dates are indicative; update as per client baseline plan.</li>
            <li>Use the status filter above the chart to focus on specific work items.</li>
            <li>You can edit phases/tasks directly in the HTML file (see JS section).</li>
          </ul>
        </div>
      </aside>
    </div>

    <div id="tooltip" class="tooltip"></div>
  </div>

  <script>
    /*
      ===============================
      EDITABLE PROJECT DATA SECTION
      ===============================
      1) Change phases:   title / description / color
      2) Change tasks:    title / owner / start / end / status / notes
      3) Change timelineStart & timelineEnd if need bigger/smaller date range
    */

    const phases = [
      {
        id: "requirements",
        title: "Requirement & Kick-off",
        sub: "Scope freeze, timelines, environments, dependencies",
        color: "var(--accent-1)",
      },
      {
        id: "development",
        title: "Development & Config",
        sub: "Flash service configuration, integrations & scripting",
        color: "var(--accent-2)",
      },
      {
        id: "testing",
        title: "Testing & UAT",
        sub: "SIT, UAT, performance and regression cycles",
        color: "var(--accent-3)",
      },
      {
        id: "golive",
        title: "Go-Live & Hypercare",
        sub: "Production cutover, monitoring and stabilization",
        color: "var(--accent-4)",
      },
    ];

    // status: "done" | "on-going" | "upcoming"
    const tasks = [
      {
        id: 1,
        phaseId: "requirements",
        title: "Project Kick-off & High Level Scope",
        owner: "SR",
        start: "2024-11-01",
        end: "2024-11-05",
        status: "done",
        notes: "Kick-off call with client, freeze scope for Flash server changes and agree on timelines.",
      },
      {
        id: 2,
        phaseId: "requirements",
        title: "Requirement Sign-off",
        owner: "PM",
        start: "2024-11-04",
        end: "2024-11-08",
        status: "on-going",
        notes: "Capture all service flows, charging rules and reporting expectations for Flash.",
      },
      {
        id: 3,
        phaseId: "development",
        title: "Flash Application Config & Routing",
        owner: "RK",
        start: "2024-11-09",
        end: "2024-11-18",
        status: "on-going",
        notes: "Configure Flash service modules, routing tables and environment properties.",
      },
      {
        id: 4,
        phaseId: "development",
        title: "Integration With SDP / IVR",
        owner: "AB",
        start: "2024-11-15",
        end: "2024-11-24",
        status: "upcoming",
        notes: "Integrate Flash with SDP/IVR, ensure signaling & callback URLs are aligned.",
      },
      {
        id: 5,
        phaseId: "testing",
        title: "SIT – Functional Test Cases",
        owner: "SR",
        start: "2024-11-20",
        end: "2024-11-28",
        status: "upcoming",
        notes: "Execute core functional test cases including success/failure flows and edge cases.",
      },
      {
        id: 6,
        phaseId: "testing",
        title: "Client UAT",
        owner: "PM",
        start: "2024-11-26",
        end: "2024-12-05",
        status: "upcoming",
        notes: "Support client UAT, capture defects, retest & sign-off for production cutover.",
      },
      {
        id: 7,
        phaseId: "golive",
        title: "Production Cutover",
        owner: "RK",
        start: "2024-12-06",
        end: "2024-12-08",
        status: "upcoming",
        notes: "Deploy Flash service on production, perform smoke tests and enable traffic.",
      },
      {
        id: 8,
        phaseId: "golive",
        title: "Hypercare & Monitoring",
        owner: "SR",
        start: "2024-12-09",
        end: "2024-12-20",
        status: "upcoming",
        notes: "Closely monitor KPIs, alerts and CDRs; fix any issues in coordination with client.",
      },
    ];

    // CHANGE THESE FOR TIMELINE RANGE
    const timelineStart = new Date("2024-11-01");
    const timelineEnd = new Date("2024-12-20");

    // ========= UTILITIES =========
    const MS_PER_DAY = 1000 * 60 * 60 * 24;
    const totalDays = Math.round((timelineEnd - timelineStart) / MS_PER_DAY) + 1;

    function dateToDayIndex(dateStr) {
      const d = new Date(dateStr);
      return Math.round((d - timelineStart) / MS_PER_DAY);
    }

    // ========= RENDER PHASES =========
    const phaseListEl = document.getElementById("phaseList");
    phases.forEach((phase) => {
      const li = document.createElement("li");
      li.className = "phase-row";
      li.dataset.phaseId = phase.id;
      li.innerHTML = `
        <div class="phase-title">${phase.title}</div>
        <div class="phase-sub">${phase.sub}</div>
      `;
      phaseListEl.appendChild(li);
    });

    // ========= RENDER HEADER DATES =========
    const headerRowEl = document.getElementById("timelineHeaderRow");
    for (let i = 0; i < totalDays; i++) {
      const date = new Date(timelineStart.getTime() + i * MS_PER_DAY);
      const day = date.getDate();
      const short = date.toLocaleDateString("en-GB", { weekday: "short" });
      const cell = document.createElement("div");
      cell.className = "timeline-day";
      cell.innerHTML = `<div>${day}</div><div style="font-size:9px;">${short}</div>`;
      headerRowEl.appendChild(cell);
    }

    // ========= GRID ROWS =========
    const gridEl = document.getElementById("timelineGrid");
    phases.forEach((phase) => {
      const row = document.createElement("div");
      row.className = "timeline-grid-row";
      row.dataset.phaseId = phase.id;
      gridEl.appendChild(row);
    });

    // ========= TASKS =========
    function renderTasks(filterStatus = "all") {
      document.querySelectorAll(".task-bar").forEach((el) => el.remove());

      tasks.forEach((task) => {
        if (filterStatus !== "all" && task.status !== filterStatus) return;

        const row = document.querySelector(
          `.timeline-grid-row[data-phase-id="${task.phaseId}"]`
        );
        if (!row) return;

        const startIndex = dateToDayIndex(task.start);
        const endIndex = dateToDayIndex(task.end);
        const durationDays = endIndex - startIndex + 1;

        const leftPercent = (startIndex / totalDays) * 100;
        const widthPercent = (durationDays / totalDays) * 100;

        const bar = document.createElement("div");
        bar.className = "task-bar";
        bar.dataset.taskId = task.id;
        bar.dataset.status = task.status;

        const phase = phases.find((p) => p.id === task.phaseId);
        const bgColor = phase ? phase.color : "var(--accent-1)";
        bar.style.background = bgColor;
        bar.style.left = leftPercent + "%";
        bar.style.width = widthPercent + "%";

        const statusLabel =
          task.status === "done"
            ? "Done"
            : task.status === "on-going"
            ? "On-Going"
            : "Upcoming";

        bar.innerHTML = `
          <span class="task-pill">${statusLabel}</span>
          <span class="task-title">${task.title}</span>
          <span class="task-avatar">${task.owner}</span>
        `;

        row.appendChild(bar);
      });

      wireTaskInteractions();
    }

    // ========= TODAY LINE =========
    function renderTodayLine() {
      const today = new Date();
      if (today < timelineStart || today > timelineEnd) return;
      const index = Math.round((today - timelineStart) / MS_PER_DAY);
      const leftPercent = (index / totalDays) * 100;

      const todayLine = document.getElementById("todayLine");
      todayLine.style.display = "block";
      todayLine.style.left = leftPercent + "%";

      const label = todayLine.querySelector(".today-label");
      label.style.left = "0";
      label.style.transform = "translate(-50%, -70%)";
    }

    // ========= TOOLTIP & DETAILS =========
    const tooltipEl = document.getElementById("tooltip");
    const detailsEl = document.getElementById("taskDetails");
    const selectedStatusLabel = document.getElementById("selectedStatusLabel");

    function moveTooltip(e) {
      const padding = 12;
      tooltipEl.style.left = e.clientX + padding + "px";
      tooltipEl.style.top = e.clientY + padding + "px";
    }

    function wireTaskInteractions() {
      document.querySelectorAll(".task-bar").forEach((bar) => {
        const taskId = Number(bar.dataset.taskId);
        const task = tasks.find((t) => t.id === taskId);
        if (!task) return;
        const phase = phases.find((p) => p.id === task.phaseId);

        const statusText =
          task.status === "done"
            ? "Done"
            : task.status === "on-going"
            ? "On-Going"
            : "Upcoming";

        bar.addEventListener("mouseenter", (e) => {
          tooltipEl.innerHTML = `
            <div class="tooltip-title">${task.title}</div>
            <div class="tooltip-line">
              <span><strong>Phase:</strong> ${phase?.title ?? ""}</span>
              <span><strong>Owner:</strong> ${task.owner}</span>
            </div>
            <div class="tooltip-line" style="margin-top:4px;">
              <span><strong>Start:</strong> ${task.start}</span>
              <span><strong>End:</strong> ${task.end}</span>
            </div>
            <div style="margin-top:4px;"><strong>Status:</strong> ${statusText}</div>
          `;
          tooltipEl.classList.add("visible");
          moveTooltip(e);
        });

        bar.addEventListener("mousemove", moveTooltip);

        bar.addEventListener("mouseleave", () => {
          tooltipEl.classList.remove("visible");
        });

        bar.addEventListener("click", () => {
          document
            .querySelectorAll(".task-bar")
            .forEach((el) => (el.style.outline = "none"));
          bar.style.outline = "2px solid rgba(56, 189, 248, 0.85)";

          selectedStatusLabel.textContent = statusText;
          detailsEl.innerHTML = `
            <p><strong>${task.title}</strong></p>
            <p style="margin-top:4px;">${task.notes}</p>
            <div class="pill-row">
              <span class="info-pill">Phase: ${phase?.title ?? ""}</span>
              <span class="info-pill">Owner: ${task.owner}</span>
              <span class="info-pill">Start: ${task.start}</span>
              <span class="info-pill">End: ${task.end}</span>
              <span class="info-pill">Status: ${statusText}</span>
            </div>
          `;
        });
      });
    }

    // ========= FILTER BUTTONS =========
    document.querySelectorAll(".chip").forEach((chip) => {
      chip.addEventListener("click", () => {
        const filter = chip.dataset.filter;
        document
          .querySelectorAll(".chip")
          .forEach((c) => c.classList.remove("chip--active"));
        chip.classList.add("chip--active");
        renderTasks(filter);
      });
    });

    // ========= INIT =========
    renderTasks("all");
    renderTodayLine();
  </script>
</body>
</html>
