<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Social Media Strategy – Interactive Gantt</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #f5f7fb;
      --surface: #ffffff;
      --border: #dde2ee;
      --text-main: #222b45;
      --text-muted: #6b7080;
      --accent-purple: #6c5ce7;
      --accent-blue: #0984e3;
      --accent-green: #00b894;
      --accent-yellow: #fdcb6e;
      --accent-dark: #2d3436;
      --today-line: #ff7675;
      --radius-lg: 14px;
      --radius-sm: 6px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.12);
      --grid-line: #eceff7;
      --chip-bg: #f0f3ff;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top left, #4a6cf7, #673ab7 45%, #0f172a 80%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: 32px 16px;
    }

    .app-shell {
      background: linear-gradient(135deg, #fdfbff, #f3f6ff);
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      max-width: 1200px;
      width: 100%;
      display: grid;
      grid-template-columns: minmax(0, 2.3fr) minmax(260px, 0.9fr);
      overflow: hidden;
    }

    /* LEFT SIDE – GANTT */
    .main {
      padding: 24px 24px 20px;
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 16px;
      background: radial-gradient(circle at top left, #e9f0ff, #ffffff 55%);
    }

    header h1 {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.03em;
    }

    header p {
      font-size: 12px;
      margin-top: 4px;
      color: var(--text-muted);
    }

    .filters-bar {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text-muted);
      flex-wrap: wrap;
    }

    .chip {
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--chip-bg);
      border: 1px solid rgba(99, 102, 241, 0.22);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      cursor: pointer;
      user-select: none;
      transition: background 0.15s ease, transform 0.1s ease;
    }

    .chip-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
    }

    .chip:hover {
      background: #e8ecff;
      transform: translateY(-1px);
    }

    .chip--active {
      background: #4f46e5;
      color: #fff;
      border-color: transparent;
    }

    .chip--active .chip-dot {
      background: #fff;
    }

    .layout {
      display: grid;
      grid-template-columns: 170px minmax(0, 1fr);
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid var(--border);
      background: var(--surface);
    }

    /* LEFT COLUMN – PHASES */
    .phases {
      border-right: 1px solid var(--border);
      background: #f8f9ff;
    }

    .phases-header,
    .timeline-header {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      background: rgba(248, 250, 255, 0.9);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .phases-list {
      list-style: none;
    }

    .phase-row {
      padding: 14px 12px;
      border-bottom: 1px dashed rgba(148, 163, 184, 0.3);
      min-height: 64px;
    }

    .phase-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .phase-sub {
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.3;
    }

    /* RIGHT COLUMN – TIMELINE */
    .timeline-wrapper {
      position: relative;
      overflow-x: auto;
      background: #ffffff;
    }

    .timeline-inner {
      position: relative;
      min-width: 680px;
    }

    .timeline-header-row {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(40px, 1fr);
      font-size: 11px;
      color: var(--text-muted);
      text-align: center;
      padding: 10px 0 8px;
    }

    .timeline-day {
      border-left: 1px solid #f1f5f9;
    }

    .timeline-grid {
      position: relative;
    }

    .timeline-grid-row {
      height: 64px;
      border-top: 1px solid var(--grid-line);
      position: relative;
    }

    .today-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--today-line);
      pointer-events: none;
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.4);
    }

    .today-label {
      position: absolute;
      top: 2px;
      transform: translateX(-50%);
      padding: 2px 6px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      font-size: 9px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      white-space: nowrap;
    }

    /* TASK BARS */
    .task-bar {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      height: 22px;
      border-radius: 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 0 10px;
      font-size: 11px;
      color: #fff;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.22);
      transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.12s ease;
    }

    .task-bar[data-status="done"] {
      opacity: 0.95;
    }

    .task-bar[data-status="upcoming"] {
      opacity: 0.9;
      border: 1px solid rgba(255, 255, 255, 0.55);
    }

    .task-bar[data-status="on-going"] {
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.6);
    }

    .task-bar:hover {
      transform: translateY(-55%) scale(1.02);
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.32);
    }

    .task-pill {
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.2);
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .task-title {
      font-weight: 600;
    }

    .task-avatar {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.92);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
      color: var(--text-main);
      flex-shrink: 0;
    }

    /* TOOLTIP */
    .tooltip {
      position: fixed;
      pointer-events: none;
      background: #020617;
      color: #e5e7eb;
      font-size: 11px;
      padding: 8px 10px;
      border-radius: 8px;
      box-shadow: 0 18px 30px rgba(15, 23, 42, 0.7);
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.12s ease, transform 0.12s ease;
      z-index: 50;
      max-width: 260px;
      line-height: 1.4;
    }

    .tooltip.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .tooltip-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: #f9fafb;
    }

    .tooltip-line {
      display: flex;
      justify-content: space-between;
      gap: 12px;
    }

    /* RIGHT SIDE – DETAILS PANEL */
    .side {
      padding: 18px 18px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      background: radial-gradient(circle at top right, #f3f0ff, #ffffff 48%);
    }

    .side-section {
      background: rgba(255, 255, 255, 0.92);
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 12px 13px;
    }

    .side-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .avatars {
      display: flex;
      gap: 4px;
      flex-wrap: wrap;
    }

    .avatar {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: linear-gradient(135deg, #4f46e5, #ec4899);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 11px;
      font-weight: 600;
      box-shadow: 0 6px 16px rgba(148, 163, 184, 0.6);
    }

    .avatar:nth-child(2) { background: linear-gradient(135deg, #0ea5e9, #22c55e); }
    .avatar:nth-child(3) { background: linear-gradient(135deg, #f59e0b, #ef4444); }
    .avatar:nth-child(4) { background: linear-gradient(135deg, #14b8a6, #6366f1); }

    .legend {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 6px;
      margin-top: 4px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .legend-color {
      width: 10px;
      height: 10px;
      border-radius: 999px;
    }

    .task-details {
      font-size: 12px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .task-details strong {
      color: var(--text-main);
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .info-pill {
      font-size: 10px;
      padding: 4px 7px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.8);
      background: #f9fafb;
    }

    @media (max-width: 880px) {
      .app-shell {
        grid-template-columns: minmax(0, 1fr);
      }
      .main {
        border-right: none;
        border-bottom: 1px solid var(--border);
      }
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <!-- LEFT: GANTT -->
    <section class="main">
      <header>
        <h1>Social Media Strategy Development Gantt</h1>
        <p>Interactive, read-only plan – click on a bar to see more details.</p>
      </header>

      <div class="filters-bar">
        <span style="font-size:11px;">Status:</span>
        <button class="chip chip--active" data-filter="all">
          All
        </button>
        <button class="chip" data-filter="done">
          <span class="chip-dot" style="background:#4ade80;"></span> Done
        </button>
        <button class="chip" data-filter="on-going">
          <span class="chip-dot" style="background:#38bdf8;"></span> On-Going
        </button>
        <button class="chip" data-filter="upcoming">
          <span class="chip-dot" style="background:#facc15;"></span> Upcoming
        </button>
      </div>

      <div class="layout">
        <!-- PHASE LIST -->
        <aside class="phases">
          <div class="phases-header">
            Phases
          </div>
          <ul class="phases-list" id="phaseList">
            <!-- Filled by JS -->
          </ul>
        </aside>

        <!-- TIMELINE -->
        <section class="timeline-wrapper">
          <div class="timeline-inner">
            <div class="timeline-header">
              <div class="timeline-header-row" id="timelineHeaderRow"></div>
            </div>
            <div class="timeline-grid" id="timelineGrid"></div>

            <div id="todayLine" class="today-line" style="display:none;">
              <div class="today-label">Today</div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- RIGHT: DETAILS / USERS / LEGEND -->
    <aside class="side">
      <div class="side-section">
        <div class="side-title">
          Project Team
          <span style="font-size:10px; color:var(--text-muted);">Demo only</span>
        </div>
        <div class="avatars">
          <div class="avatar">RA</div>
          <div class="avatar">MK</div>
          <div class="avatar">JS</div>
          <div class="avatar">LC</div>
        </div>
      </div>

      <div class="side-section">
        <div class="side-title">
          Legend
        </div>
        <div class="legend">
          <div class="legend-item">
            <span class="legend-color" style="background:var(--accent-purple);"></span>
            <span>Research</span>
          </div>
          <div class="legend-item">
            <span class="legend-color" style="background:var(--accent-blue);"></span>
            <span>Strategy</span>
          </div>
          <div class="legend-item">
            <span class="legend-color" style="background:var(--accent-green);"></span>
            <span>Implementation</span>
          </div>
          <div class="legend-item">
            <span class="legend-color" style="background:var(--accent-dark);"></span>
            <span>Monitoring</span>
          </div>
        </div>
      </div>

      <div class="side-section">
        <div class="side-title">
          Selected Task
          <span id="selectedStatusLabel" style="font-size:10px;"></span>
        </div>
        <div class="task-details" id="taskDetails">
          <p>Select any task bar in the Gantt chart to see details here.</p>
        </div>
      </div>
    </aside>

    <div id="tooltip" class="tooltip"></div>
  </div>

  <script>
    // ---------- DATA ----------
    const phases = [
      {
        id: "research",
        title: "Research",
        sub: "Market analysis, competitor review, audience insights",
        color: "var(--accent-purple)",
      },
      {
        id: "strategy",
        title: "Strategy Planning",
        sub: "Define goals, channels, content mix, KPIs",
        color: "var(--accent-blue)",
      },
      {
        id: "implementation",
        title: "Implementation",
        sub: "Content creation, scheduling, campaign launch",
        color: "var(--accent-green)",
      },
      {
        id: "monitoring",
        title: "Monitoring",
        sub: "Track engagement & conversions, adjust strategy",
        color: "var(--accent-dark)",
      },
    ];

    // Dates are YYYY-MM-DD
    const tasks = [
      {
        id: 1,
        phaseId: "research",
        title: "Market Analysis",
        owner: "RA",
        start: "2024-11-01",
        end: "2024-11-08",
        status: "done",
        notes: "Collect historical performance & competitor benchmarks.",
      },
      {
        id: 2,
        phaseId: "research",
        title: "Audience Insights",
        owner: "MK",
        start: "2024-11-03",
        end: "2024-11-12",
        status: "on-going",
        notes: "Survey top segments; review previous campaign behaviour.",
      },
      {
        id: 3,
        phaseId: "strategy",
        title: "Channel Strategy",
        owner: "JS",
        start: "2024-11-04",
        end: "2024-11-12",
        status: "done",
        notes: "Prioritise Instagram & YouTube; support via X & LinkedIn.",
      },
      {
        id: 4,
        phaseId: "strategy",
        title: "Content Calendar",
        owner: "LC",
        start: "2024-11-09",
        end: "2024-11-18",
        status: "on-going",
        notes: "Weekly themes, hero posts, daily supporting content.",
      },
      {
        id: 5,
        phaseId: "implementation",
        title: "Create Assets",
        owner: "RA",
        start: "2024-11-12",
        end: "2024-11-24",
        status: "on-going",
        notes: "Design templates, short-form video, static posts.",
      },
      {
        id: 6,
        phaseId: "implementation",
        title: "Schedule Posts",
        owner: "MK",
        start: "2024-11-20",
        end: "2024-11-28",
        status: "upcoming",
        notes: "Load content into scheduler; ensure approvals are tagged.",
      },
      {
        id: 7,
        phaseId: "monitoring",
        title: "Launch & Monitor",
        owner: "JS",
        start: "2024-11-20",
        end: "2024-11-28",
        status: "upcoming",
        notes: "Monitor performance daily, adjust bids & creatives.",
      },
    ];

    const timelineStart = new Date("2024-11-01");
    const timelineEnd = new Date("2024-11-28");
    const MS_PER_DAY = 1000 * 60 * 60 * 24;
    const totalDays = Math.round((timelineEnd - timelineStart) / MS_PER_DAY) + 1;

    function dateToDayIndex(dateStr) {
      const d = new Date(dateStr);
      return Math.round((d - timelineStart) / MS_PER_DAY);
    }

    // ---------- RENDER PHASES ----------
    const phaseListEl = document.getElementById("phaseList");
    phases.forEach((phase) => {
      const li = document.createElement("li");
      li.className = "phase-row";
      li.dataset.phaseId = phase.id;
      li.innerHTML = `
        <div class="phase-title">${phase.title}</div>
        <div class="phase-sub">${phase.sub}</div>
      `;
      phaseListEl.appendChild(li);
    });

    // ---------- RENDER TIMELINE HEADER ----------
    const headerRowEl = document.getElementById("timelineHeaderRow");
    for (let i = 0; i < totalDays; i++) {
      const date = new Date(timelineStart.getTime() + i * MS_PER_DAY);
      const day = date.getDate();
      const short = date.toLocaleDateString("en-GB", { weekday: "short" });
      const cell = document.createElement("div");
      cell.className = "timeline-day";
      cell.innerHTML = `<div>${day}</div><div style="font-size:9px;">${short}</div>`;
      headerRowEl.appendChild(cell);
    }

    // ---------- RENDER GRID ROWS ----------
    const gridEl = document.getElementById("timelineGrid");
    phases.forEach((phase) => {
      const row = document.createElement("div");
      row.className = "timeline-grid-row";
      row.dataset.phaseId = phase.id;
      gridEl.appendChild(row);
    });

    // ---------- RENDER TASK BARS ----------
    function renderTasks(filterStatus = "all") {
      // Clear bars
      document.querySelectorAll(".task-bar").forEach((el) => el.remove());

      tasks.forEach((task) => {
        if (filterStatus !== "all" && task.status !== filterStatus) return;

        const row = document.querySelector(
          `.timeline-grid-row[data-phase-id="${task.phaseId}"]`
        );
        if (!row) return;

        const startIndex = dateToDayIndex(task.start);
        const endIndex = dateToDayIndex(task.end);
        const durationDays = endIndex - startIndex + 1;

        const leftPercent = (startIndex / totalDays) * 100;
        const widthPercent = (durationDays / totalDays) * 100;

        const bar = document.createElement("div");
        bar.className = "task-bar";
        bar.dataset.taskId = task.id;
        bar.dataset.status = task.status;

        const phase = phases.find((p) => p.id === task.phaseId);
        const bgColor = phase ? phase.color : "var(--accent-purple)";
        bar.style.background = bgColor;
        bar.style.left = leftPercent + "%";
        bar.style.width = widthPercent + "%";

        const statusLabel =
          task.status === "done"
            ? "Done"
            : task.status === "on-going"
            ? "On-Going"
            : "Upcoming";

        bar.innerHTML = `
          <span class="task-pill">${statusLabel}</span>
          <span class="task-title">${task.title}</span>
          <span class="task-avatar">${task.owner}</span>
        `;

        row.appendChild(bar);
      });

      wireTaskInteractions();
    }

    // ---------- TODAY LINE ----------
    function renderTodayLine() {
      const today = new Date();
      // Clamp to only show if inside range
      if (today < timelineStart || today > timelineEnd) return;
      const index = Math.round((today - timelineStart) / MS_PER_DAY);
      const leftPercent = (index / totalDays) * 100;

      const todayLine = document.getElementById("todayLine");
      todayLine.style.display = "block";
      todayLine.style.left = leftPercent + "%";

      const label = todayLine.querySelector(".today-label");
      label.style.left = "0";
      label.style.transform = "translate(-50%, -70%)";
    }

    // ---------- TOOLTIP / DETAILS ----------
    const tooltipEl = document.getElementById("tooltip");
    const detailsEl = document.getElementById("taskDetails");
    const selectedStatusLabel = document.getElementById("selectedStatusLabel");

    function wireTaskInteractions() {
      document.querySelectorAll(".task-bar").forEach((bar) => {
        const taskId = Number(bar.dataset.taskId);
        const task = tasks.find((t) => t.id === taskId);
        if (!task) return;

        bar.addEventListener("mouseenter", (e) => {
          const phase = phases.find((p) => p.id === task.phaseId);
          const statusText =
            task.status === "done"
              ? "Done"
              : task.status === "on-going"
              ? "On-Going"
              : "Upcoming";

          tooltipEl.innerHTML = `
            <div class="tooltip-title">${task.title}</div>
            <div class="tooltip-line">
              <span><strong>Phase:</strong> ${phase?.title ?? ""}</span>
              <span><strong>Owner:</strong> ${task.owner}</span>
            </div>
            <div class="tooltip-line" style="margin-top:4px;">
              <span><strong>Start:</strong> ${task.start}</span>
              <span><strong>End:</strong> ${task.end}</span>
            </div>
            <div style="margin-top:4px;"><strong>Status:</strong> ${statusText}</div>
          `;
          tooltipEl.classList.add("visible");
          moveTooltip(e);
        });

        bar.addEventListener("mousemove", moveTooltip);

        bar.addEventListener("mouseleave", () => {
          tooltipEl.classList.remove("visible");
        });

        bar.addEventListener("click", () => {
          document
            .querySelectorAll(".task-bar")
            .forEach((el) => el.style.outline = "none");
          bar.style.outline = "2px solid rgba(56, 189, 248, 0.8)";

          const phase = phases.find((p) => p.id === task.phaseId);
          const statusText =
            task.status === "done"
              ? "Done"
              : task.status === "on-going"
              ? "On-Going"
              : "Upcoming";

          selectedStatusLabel.textContent = statusText;
          detailsEl.innerHTML = `
            <p><strong>${task.title}</strong></p>
            <p style="margin-top:4px;">${task.notes}</p>
            <div class="pill-row">
              <span class="info-pill">Phase: ${phase?.title ?? ""}</span>
              <span class="info-pill">Owner: ${task.owner}</span>
              <span class="info-pill">Start: ${task.start}</span>
              <span class="info-pill">End: ${task.end}</span>
              <span class="info-pill">Status: ${statusText}</span>
            </div>
          `;
        });
      });
    }

    function moveTooltip(e) {
      const padding = 12;
      const x = e.clientX + padding;
      const y = e.clientY + padding;
      tooltipEl.style.left = x + "px";
      tooltipEl.style.top = y + "px";
    }

    // ---------- FILTER BUTTONS ----------
    document.querySelectorAll(".chip").forEach((chip) => {
      chip.addEventListener("click", () => {
        const filter = chip.dataset.filter;
        document
          .querySelectorAll(".chip")
          .forEach((c) => c.classList.remove("chip--active"));
        chip.classList.add("chip--active");
        renderTasks(filter);
      });
    });

    // ---------- INIT ----------
    renderTasks("all");
    renderTodayLine();
  </script>
</body>
</html>
